<div class="table-data">
  <div class="toolbar">

    <select class="form-control with-auto" (change)="onNamChange($event.target.value)">
      <option selected value="">Năm học</option>
      <option *ngFor="let nam of listNam" [value]="nam">{{nam}}</option>
    </select>

    <select class="form-control with-auto" (change)="onKiHocChange($event.target.value)">
      <option selected value="">Kì học</option>
      <option [value]=1>Kì 1</option>
      <option [value]=2>Kì 2</option>
    </select>

    <button (click)="openDialog('create')"
      class="btn btn-primary my-btn">Thêm sách
    </button>
  </div>

  <div class="column">
    <div class="table-container">
      <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th>STT</th>
            <th>Mã sách</th>
            <th>Tên sách</th>
            <th>Loại sách</th>
            <th>Nơi xuất bản</th>
            <th>Số thành viên</th>
            <th>Năm học</th>
            <th>Kì học</th>
            <th style="min-width: 100px">Thao tác</th>
          </tr>
        </thead>
        <tbody *ngIf="listSach?.length > 0">
          <tr *ngFor="let sach of listSach; let i = index;"
           style="cursor: pointer;">
            <td (click)="viewsach(sach?.Id)">{{pageNumber * pageSize + (i + 1) }}</td>
            <td (click)="viewsach(sach?.Id)">{{sach?.Ma}}</td>
            <td (click)="viewsach(sach?.Id)">{{sach?.Ten}}</td>
            <td (click)="viewsach(sach?.Id)">{{sach?.LoaiSach.Ten}}</td>
            <td (click)="viewsach(sach?.Id)">{{sach?.NoiXuatBan}}</td>
            <td (click)="viewsach(sach?.Id)">{{sach?.SoThanhVien}}</td>
            <td (click)="viewsach(sach?.Id)">{{sach?.NamHoc}}</td>
            <td (click)="viewsach(sach?.Id)">{{sach?.KiHoc}}</td>
            <td>
              <mat-icon (click)="openDialog('update', sach?.Id)"
                class="mat-18" title="Sửa thông tin"
                titlePosition="below" style="cursor: pointer;">edit
              </mat-icon>
              <mat-icon (click)="openDialog('delete', sach?.Id)"
                class="mat-18" title="Xóa sách"
                style="cursor: pointer;">delete
              </mat-icon>
            </td>
          </tr>
        </tbody>
      </table>
      <div *ngIf="listSach?.length === 0" class="non-result">Không có kết quả tìm kiếm</div>
    </div>
  </div>
  <mat-paginator (page)="pageSizeChange($event)" *ngIf="totalItems > 0" [length]="totalItems" [pageIndex]="pageNumber"
    [pageSizeOptions]="[10, 25, 50, 100]" [pageSize]="pageSize" class="paginator"></mat-paginator>
</div>
